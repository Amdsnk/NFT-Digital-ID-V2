import{c as E,r as v,u as C,j as e,I as O,F as _,S as M,T as P,f as z,g as k,h as I,C as f,a as T,b as D,d as w,t as m,B as c,e as h,D as U,i as V,k as H,l as G,m as K,n as W}from"./index-o98G8oBn.js";import{S as X,T as y,a as S,b as d,c as t,d as F,e as r,D as Q,f as J,g as Y,h as o}from"./dropdown-menu-BZScIz9n.js";import{E as $}from"./ellipsis-vertical-Dn582aXF.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=E("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=E("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),x=[{id:1,tokenId:"FSAI00123",userId:1,metadata:{name:"Soul ID - Alex",image:"https://example.com/nft1.png"},network:"Ethereum",isActive:!0,mintedAt:"2023-09-15T10:30:00Z",user:{username:"alex_web3",walletAddress:"0x742d35Cc6634C0532925a3b844Bc454e4438f44e",trustScore:87}},{id:2,tokenId:"FSAI00456",userId:2,metadata:{name:"Soul ID - Sarah",image:"https://example.com/nft2.png"},network:"Polygon",isActive:!0,mintedAt:"2023-10-05T14:20:00Z",user:{username:"crypto_sarah",walletAddress:"0x9D7f74d0C41E726EC95884E0e97Fa6129e3b5E99",trustScore:65}},{id:3,tokenId:"FSAI00789",userId:3,metadata:{name:"Soul ID - Dev",image:"https://example.com/nft3.png"},network:"Ethereum",isActive:!0,mintedAt:"2023-08-22T09:15:00Z",user:{username:"blockchain_dev",walletAddress:"0x3A4e27b5B3A5A2Cc98843De9F2848974C1c05ecB",trustScore:92}},{id:4,tokenId:"FSAI00234",userId:4,metadata:{name:"Soul ID - Collector",image:"https://example.com/nft4.png"},network:"Polygon",isActive:!0,mintedAt:"2023-11-10T16:45:00Z",user:{username:"nft_collector",walletAddress:"0x5B38Da6a701c568545dCfcB03FcB875f56beddC4",trustScore:45}},{id:5,tokenId:"FSAI00567",userId:5,metadata:{name:"Soul ID - Guru",image:"https://example.com/nft5.png"},network:"Ethereum",isActive:!0,mintedAt:"2023-09-30T11:20:00Z",user:{username:"defi_guru",walletAddress:"0xAb8483F64d9C6d1EcF9b849Ae677dD3315835cb2",trustScore:78}},{id:6,tokenId:"FSAI00890",userId:6,metadata:{name:"Soul ID - Newbie",image:"https://example.com/nft6.png"},network:"Polygon",isActive:!1,mintedAt:"2024-01-05T08:30:00Z",user:{username:"web3_newbie",walletAddress:"0x4B20993Bc481177ec7E8f571ceCaE8A9e22C02db",trustScore:12}},{id:7,tokenId:"FSAI00345",userId:7,metadata:{name:"Soul ID - Trader",image:"https://example.com/nft7.png"},network:"Ethereum",isActive:!0,mintedAt:"2023-12-15T13:10:00Z",user:{username:"token_trader",walletAddress:"0x78731D3Ca6b7E34aC0F824c42a7cC18A495cabaB",trustScore:56}},{id:8,tokenId:"FSAI00678",userId:8,metadata:{name:"Soul ID - Voter",image:"https://example.com/nft8.png"},network:"Polygon",isActive:!0,mintedAt:"2024-02-20T10:45:00Z",user:{username:"dao_voter",walletAddress:"0x617F2E2fD72FD9D5503197092aC168c91465E7f2",trustScore:34}}],se=[{id:1,nftId:1,requesterId:1,newOwnerAddress:"0x742d35Cc6634C0532925a3b844Bc454e4438f44e",reason:"Moving to a new wallet for better security",status:"pending",createdAt:"2024-03-15T10:30:00Z",reviewedBy:null,reviewedAt:null,requester:{username:"alex_web3",walletAddress:"0x742d35Cc6634C0532925a3b844Bc454e4438f44e"},nft:x[0]},{id:2,nftId:2,requesterId:2,newOwnerAddress:"0x9D7f74d0C41E726EC95884E0e97Fa6129e3b5E99",reason:"Gifting to a community member",status:"approved",createdAt:"2024-03-10T14:20:00Z",reviewedBy:3,reviewedAt:"2024-03-12T09:15:00Z",requester:{username:"crypto_sarah",walletAddress:"0x9D7f74d0C41E726EC95884E0e97Fa6129e3b5E99"},nft:x[1]},{id:3,nftId:3,requesterId:3,newOwnerAddress:"0x3A4e27b5B3A5A2Cc98843De9F2848974C1c05ecB",reason:"Moving to hardware wallet",status:"pending",createdAt:"2024-03-18T09:15:00Z",reviewedBy:null,reviewedAt:null,requester:{username:"blockchain_dev",walletAddress:"0x3A4e27b5B3A5A2Cc98843De9F2848974C1c05ecB"},nft:x[2]},{id:4,nftId:4,requesterId:4,newOwnerAddress:"0x5B38Da6a701c568545dCfcB03FcB875f56beddC4",reason:"Consolidating wallets",status:"rejected",createdAt:"2024-03-05T16:45:00Z",reviewedBy:1,reviewedAt:"2024-03-07T11:20:00Z",requester:{username:"nft_collector",walletAddress:"0x5B38Da6a701c568545dCfcB03FcB875f56beddC4"},nft:x[3]}];function ne(){const[a,u]=v.useState(""),[n,j]=v.useState("nfts"),{data:p=[],isLoading:L,error:q}=C({queryKey:["/api/admin/nfts"],retry:1,initialData:x}),{data:b=[],isLoading:R,error:Z}=C({queryKey:["/api/admin/transfer-requests"],retry:1,initialData:se}),A=p.filter(s=>{var l,i;return s.tokenId.toLowerCase().includes(a.toLowerCase())||s.metadata.name.toLowerCase().includes(a.toLowerCase())||((l=s.user)==null?void 0:l.username)&&s.user.username.toLowerCase().includes(a.toLowerCase())||((i=s.user)==null?void 0:i.walletAddress)&&s.user.walletAddress.toLowerCase().includes(a.toLowerCase())}),N=b.filter(s=>s.nft.tokenId.toLowerCase().includes(a.toLowerCase())||s.requester.username.toLowerCase().includes(a.toLowerCase())||s.newOwnerAddress.toLowerCase().includes(a.toLowerCase()));return n==="nfts"&&L||n==="requests"&&R?e.jsx("div",{className:"flex justify-center items-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})}):n==="nfts"&&q||n==="requests"&&Z?e.jsxs("div",{className:"p-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg",children:[e.jsx("h3",{className:"font-semibold",children:"Error Loading Data"}),e.jsx("p",{children:"There was an error loading the data. Please try again."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4 mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"NFT Management"}),e.jsxs("div",{className:"relative w-full md:w-96",children:[e.jsx(X,{className:"absolute left-2 top-2.5 h-4 w-4 text-slate-400"}),e.jsx(O,{placeholder:"Search by token ID, user, or wallet address...",className:"pl-8",value:a,onChange:s=>u(s.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx(g,{title:"Total Soul IDs",value:p.length,description:"NFTs minted in the system",icon:e.jsx(_,{className:"h-8 w-8 text-primary-500"})}),e.jsx(g,{title:"Active Soul IDs",value:p.filter(s=>s.isActive).length,description:"Currently active NFTs",icon:e.jsx(B,{className:"h-8 w-8 text-green-500"})}),e.jsx(g,{title:"Pending Transfers",value:b.filter(s=>s.status==="pending").length,description:"Awaiting approval",icon:e.jsx(M,{className:"h-8 w-8 text-amber-500"})})]}),e.jsxs(P,{defaultValue:"nfts",onValueChange:j,children:[e.jsxs(z,{className:"mb-6",children:[e.jsx(k,{value:"nfts",children:"Soul IDs"}),e.jsx(k,{value:"requests",children:"Transfer Requests"})]}),e.jsx(I,{value:"nfts",children:e.jsxs(f,{children:[e.jsx(T,{className:"pb-2",children:e.jsx(D,{children:"Soul ID NFTs"})}),e.jsx(w,{children:e.jsxs(y,{children:[e.jsx(S,{children:e.jsxs(d,{children:[e.jsx(t,{children:"Token ID"}),e.jsx(t,{children:"User"}),e.jsx(t,{children:"Wallet"}),e.jsx(t,{children:"Network"}),e.jsx(t,{children:"Status"}),e.jsx(t,{className:"text-right",children:"Actions"})]})}),e.jsx(F,{children:A.length===0?e.jsx(d,{children:e.jsx(r,{colSpan:6,className:"text-center py-6 text-slate-500",children:"No NFTs match your search criteria"})}):A.map(s=>{var l,i;return e.jsxs(d,{children:[e.jsx(r,{className:"font-medium",children:s.tokenId}),e.jsx(r,{children:((l=s.user)==null?void 0:l.username)||"Unknown User"}),e.jsx(r,{className:"font-mono text-xs",children:(i=s.user)!=null&&i.walletAddress?m(s.user.walletAddress):"Unknown Wallet"}),e.jsx(r,{children:s.network}),e.jsx(r,{children:s.isActive?e.jsx(c,{variant:"outline",className:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800/30",children:"Active"}):e.jsx(c,{variant:"outline",className:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800/30",children:"Inactive"})}),e.jsx(r,{className:"text-right",children:e.jsxs(Q,{children:[e.jsx(J,{asChild:!0,children:e.jsxs(h,{variant:"ghost",size:"icon",children:[e.jsx($,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Open menu"})]})}),e.jsxs(Y,{align:"end",children:[e.jsx(o,{children:"View Details"}),e.jsx(o,{children:"Update Metadata"}),s.isActive?e.jsx(o,{className:"text-red-600 dark:text-red-400",children:"Deactivate NFT"}):e.jsx(o,{className:"text-green-600 dark:text-green-400",children:"Activate NFT"}),e.jsx(o,{children:"Transfer Ownership"})]})]})})]},s.id)})})]})})]})}),e.jsx(I,{value:"requests",children:e.jsxs(f,{children:[e.jsx(T,{className:"pb-2",children:e.jsx(D,{children:"NFT Transfer Requests"})}),e.jsx(w,{children:e.jsxs(y,{children:[e.jsx(S,{children:e.jsxs(d,{children:[e.jsx(t,{children:"Request ID"}),e.jsx(t,{children:"Token ID"}),e.jsx(t,{children:"Requester"}),e.jsx(t,{children:"New Owner"}),e.jsx(t,{children:"Status"}),e.jsx(t,{className:"text-right",children:"Actions"})]})}),e.jsx(F,{children:N.length===0?e.jsx(d,{children:e.jsx(r,{colSpan:6,className:"text-center py-6 text-slate-500",children:"No transfer requests match your search criteria"})}):N.map(s=>e.jsxs(d,{children:[e.jsxs(r,{className:"font-medium",children:["#",s.id]}),e.jsx(r,{children:s.nft.tokenId}),e.jsx(r,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:s.requester.username}),e.jsx("span",{className:"text-xs text-slate-500 font-mono",children:m(s.requester.walletAddress)})]})}),e.jsx(r,{className:"font-mono text-xs",children:m(s.newOwnerAddress)}),e.jsx(r,{children:s.status==="approved"?e.jsx(c,{variant:"outline",className:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800/30",children:"Approved"}):s.status==="rejected"?e.jsx(c,{variant:"outline",className:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800/30",children:"Rejected"}):e.jsx(c,{variant:"outline",className:"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-800/30",children:"Pending"})}),e.jsx(r,{className:"text-right",children:e.jsxs(U,{children:[e.jsx(V,{asChild:!0,children:e.jsx(h,{size:"sm",variant:"outline",children:"Review"})}),e.jsxs(H,{children:[e.jsxs(G,{children:[e.jsxs(K,{children:["Transfer Request #",s.id]}),e.jsx(W,{children:"Review the details of this transfer request"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-1 col-span-2",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Token ID"}),e.jsx("p",{className:"font-medium",children:s.nft.tokenId})]}),e.jsxs("div",{className:"space-y-1 col-span-2",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Requested On"}),e.jsx("p",{children:new Date(s.createdAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Current Owner"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"font-medium",children:s.requester.username}),e.jsxs("p",{className:"text-xs text-slate-500 font-mono",children:["(",m(s.requester.walletAddress),")"]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500",children:"New Owner Address"}),e.jsx("p",{className:"font-mono",children:s.newOwnerAddress})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Reason for Transfer"}),e.jsx("p",{className:"text-sm",children:s.reason})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(h,{variant:"destructive",children:[e.jsx(ee,{className:"mr-2 h-4 w-4"}),"Reject Transfer"]}),e.jsxs(h,{children:[e.jsx(B,{className:"mr-2 h-4 w-4"}),"Approve Transfer"]})]})]})]})})]},s.id))})]})})]})})]})]})}function g({title:a,value:u,description:n,icon:j}){return e.jsx(f,{children:e.jsx(w,{className:"pt-6",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:a}),e.jsx("p",{className:"text-2xl font-bold",children:u}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:n})]}),e.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 p-2 rounded-lg h-fit",children:j})]})})})}export{ne as default};
